validate: # Short mutations table labeled as "external".
  strict: true
  columns:
    patient_id:
      dtype: str
      description: "Cohort code from clinical data"
    sample_id:
      dtype: str
      description: "Sample id of biopsy (origin OVCA database)"
    alteration:
      dtype: str
      description: "Genomic alteration in format hugoSymbol:chromosome:position:reference_allele:sample_allele"
      checks:
          # str_matches: ^[a-zA-Z0-9-]+:chr[\d|X|Y]{1,2}:\d+:[ACTG]+:[ACTG]+$
          str_matches: ^[a-zA-Z0-9-,]+:chr[\d|X|Y]{1,2}:\d+:[ACTG]+:[ACTG]+$
    hugoSymbol:
      dtype: str
      description: "Gene name in Hugo nomenclature"
      checks:
          # str_matches: ^[a-zA-Z0-9-]+$
          str_matches: ^[a-zA-Z0-9-,]+$
    tumorType:
      dtype: str
      description: "Tumor type abbreviation (OncoTree based)"
      checks:
        isin:
          value:
              - HGSOC
    consequence:
      dtype: str
      description: "Genomic consequence of variant from OncoKB or CGI"
      nullable: true
      checks:
          isin:
              value:
                  - 3_prime_UTR_variant
                  - downstream_gene_variant
                  - frameshift_variant
                  - inframe_insertion
                  - intron_variant
                  - missense_variant
                  - splice_acceptor_variant
                  - splice_donor_variant
                  - splice_region_variant
                  - stop_gained
                  - stop_lost
                  - upstream_gene_variant
    oncogenic:
      dtype: str
      description: "Indication of alteration oncogenecity"
      checks:
        isin:
          value:
            - Inconclusive # Not present in source documentation description.
            - Likely Oncogenic
            - Oncogenic
            - Unknown
    mutationEffectDescription:
      dtype: str
      description: "Brief overview of the biological effect of the alteration with references"
      nullable: true
    gene_role:
      dtype: str
      description: "The biological effect of a mutation/alteration on the gene function"
      checks:
        isin:
          value:
            - Gain-of-function
            - Inconclusive
            - Likely Gain-of-function
            - Likely Loss-of-function
            - Likely Neutral
            - Loss-of-function
            - Unknown
            - Act
            - LoF
            - ambiguous
    citationPMids:
      dtype: str
      description: "Citations related to the biological effect separated by semicolon"
      nullable: true
      checks:
        # str_matches: ^[0-9]{7,}(,\s[0-9]{7,})*$
        str_matches: ^[0-9]{7,}(?:,(?:[0-9]{6,}|\s[0-9]{6,}))*$
    # level_of_evidence:
    #   dtype: str
    #   description: "Level of evidence for the alteration"
    #   nullable: true
    #   checks:
    #     isin:
    #       value:
    #         - LEVEL_1
    #         - LEVEL_2
    #         - LEVEL_3A
    #         - LEVEL_3B
    #         - LEVEL_4
    #         - LEVEL_R1
    #         - LEVEL_R2
    geneSummary:
      dtype: str
      description: "Brief overview of the gene and its role in cancer"
      nullable: true
    variantSummary:
      dtype: str
      description: "Brief description of the variant oncogenicity"
      nullable: true
    tumorTypeSummary:
      dtype: str
      description: "Describes the therapeutic implication that applies to the indication in cancer"
      nullable: true